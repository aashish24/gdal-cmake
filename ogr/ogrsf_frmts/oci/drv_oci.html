<html>
<head>
<title>Oracle Spatial</title>
</head>

<body bgcolor="#ffffff">

<h1>Oracle Spatial</h1>

This driver supports reading and writing data in Oracle Spatial (8.1.7 or
later) Object-Relational format.  The Oracle Spatial driver is not
normally built into OGR, but may be built in on platforms where the
Oracle client libraries are available. <p>

When opening a database, it's name should be specified in the form
"OCI:userid/password@database_instance".  The database_instance portion may
be omitted when accessing the default local database instance.  <p>

Currently all spatially enabled tables listed in the users 
USER_SDO_GEOM_METADATA table are treated by OGR as layers with the table
names as the layer names.  Non-spatial tables or spatial tables not listed
in the USER_SDO_GEOM_METADATA table are not directly accessable.<p>

If the table has an integer column called OGR_FID it will be used as the
feature id by OGR (and it will not appear as a regular attribute).  When loading
data into Oracle Spatial OGR will always create the OGR_FID field. <p>

The Oracle driver passes SQL statements directly to Oracle rather
than evaluating them internally when using the ExecuteSQL() call on the
OGRDataSource, or the -sql command option to ogr2ogr.  Attribute query
expressions are also passed through to Oracle.<p>

<h2>Caveats</h2>

<ul>

<li> The type recognition logic is currently somewhat impoverished.  No
effort is made to preserve real width information for integer and real
fields. <p>

<li> Various types such as objects, and BLOBs in Oracle will be completely
ignored by OGR.<p>

<li> If the application provides a spatial filter for reading it will be
passed on to Oracle.  If the table does not have a spatial index the
read will fail completely with a spatial filter in place.<p>

<li> Currently the OGR translaction semantics are not properly mapped onto
transaction semantics in Oracle.<p>

</ul>

<h2>Creation Issues</h2>

The Oracle Spatial driver does not support creation of new datasets (database
instances), but it does allow creation of new layers within an
existing database.<P>

Upon closing the OGRDataSource newly created layers will have a spatial
index automatically built.  At this point the USER_SDO_GEOM_METADATA table
will also be updated with bounds for the table based on the features that
have actually been written.  One concequence of this is that once a layer
has been loaded it is generally not possible to load additional features
outside the original extents without manually modifying the DIMINFO information
in USER_SDO_GEOM_METADATA and rebuilding the spatial index.<p>

<h3>Layer Creation Options</h3>

<ul>

<li> <b>OVERWRITE</b>: This may be "YES" to force an existing layer of the
desired name to be destroyed before creating the requested layer.<p>

<li> <b>LAUNDER</b>: This may be "YES" to force new fields created on this
layer to have their field names "laundered" into a form more compatible with
Oracle.  This converts to lower case and converts some special characters
like "-" and "#" to "_".  The default value is "NO".<p>

<li> <b>DIM</b>: This may be set to 2 or 3 to force the dimension of the
created layer.  If not set 3 is used by default.<p>

</ul>

<h3>Example</h3>

Simple translation of a shapefile into Oracle.  The table 'ABC' will
be created with the features from abc.shp and attributes from abc.dbf. <p>

<pre>
% ogr2ogr -f OCI OCI:warmerda/password@gdal800.dreadfest.com abc.shp
</pre>

This second example loads a political boundaries layer from VPF (via the
<a href="drv_ogdi.html">OGDI driver</a>), and renames the layer from the
cryptic OGDI layer name to something more sensible.  If an existing table
of the desired name exists it is overwritten.<p>

<pre>
% ogr2ogr  -f OCI OCI:warmerda/password \
        gltp:/vrf/usr4/mpp1/v0eur/vmaplv0/eurnasia \
        -lco OVERWRITE=yes -nln polbndl_bnd 'polbndl@bnd(*)_line'
</pre>

This example shows using ogrinfo to evaluate an SQL query statement 
within Oracle.  More sophisticated Oracle Spatial specific queries may also be
used via the -sql commandline switch to ogrinfo.<p>

<pre>
ogrinfo -ro OCI:warmerda/password -sql "SELECT pop_1994 from canada where province_name = 'Alberta'"
</pre>


<h3>Credits</h3>

I would like to thank <a href="http://www.extendthereach.com/">SRC, LLC</a>
for it's financial support of the development of this driver.<p>

</body>
</html>
